<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
    <meta charset="UTF-8">
    <title>replyList.html</title>
    <link rel="stylesheet" type="text/css" th:href="@{/css/main.css}" />
    <script>
        // window.onload = function () {

        //     const searchIdBtn = document.querySelector("#searchIdBtn");

        //     if (searchIdBtn) {
        //         searchIdBtn.addEventListener("click", () => {
        //             const searchId = searchIdBtn.dataset.id;
        //             location.href = `replyList?memberId=${searchId}`;
        //         });
        //     }

        // }

    </script>

</head>

<body>
    <header>
        <h1>
            <p th:text="|${memberId}의 리플|"></p>
        </h1>
    </header>

    <section>
        <div
            style="display: flex; justify-content: space-between; width: 800px; margin-left: auto; margin-right: auto;">

            <div>
                전체: <span th:text="${countList}">0</span>개
            </div>

            <div>
                <a th:href="@{/}" style="font-weight: bold;">HOME</a>
            </div>
        </div>


        <table class="reply">
            <thead>
                <tr>
                    <th style="width: 100px;">게시글 번호</th>
                    <th style="width: 100px;">작성자</th>
                    <th style="width: 500px;">내용</th>
                    <th style="width: 100px">작성일</th>
                    <!-- <td th:text=" |${member.memberName} (${member.memberId})|" style="width: 600px;"></td> -->
                </tr>
            </thead>
            <tr>
                <td th:if="${replyList == null or replyList.isEmpty()}" class="white center" colspan="4"><span
                        th:text="|작성한 댓글이 없습니다.|"></span>
                </td>
            </tr>
            <tr th:each="reply : ${replyList}">

                <td class="replynum" th:text="${reply.boardNum}" style="width: 100px;">
                </td>

                <td class="replyId" th:text="${reply.memberId}" style="width: 100px;">
                </td>


                <td class="replytext" style="width: 500px;">
                    <a th:href="|read?boardNum=${reply.boardNum}|" th:text="${reply.contents}"></a>
                </td>

                <td class="replydate" th:text="${#temporals.format(reply.createDate, 'yyyy-MM-dd HH:mm')}"
                    style="width: 100px">
                </td>
            </tr>
        </table>

        <!-- 검색폼 -->
        <form id="searchReply" method="post" th:action="@{/board/replyList}">
            <input type="text" name="searchId">
            <input type="hidden" name="boardNum" th:value="${boardNum}">
            <button class="searchIdBtn">검색</button>
            <!-- th:data-id="searchId=${searchId}" -->
        </form>
    </section>

</body>

</html>
/* IntelliJ IDEA Darcula Theme - Type Battle */

:root {
    --bg-color: #2b2b2b; /* Darcula Background */
    --text-color: #a9b7c6; /* Darcula Text */
    --keyword-color: #cc7832; /* Orange */
    --string-color: #6a8759; /* Green */
    --number-color: #6897bb; /* Blue */
    --comment-color: #808080; /* Grey */
    --class-color: #a9b7c6;
    --method-color: #ffc66d; /* Gold */
    --border-color: #323232;
    --selection-color: #214283;
    --line-number-color: #606366;
    --caret-color: #bbbbbb;
    --success-color: #499c54;
    --error-color: #bc3f3c;
    
    --font-main: 'JetBrains Mono', 'Consolas', 'Courier New', monospace;
}

body {
    background-color: #1e1f22; /* Darker outer bg */
    color: var(--text-color);
    font-family: var(--font-main);
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    height: 100vh;
    overflow: hidden;
}

/* Scrollbar */
::-webkit-scrollbar {
    width: 14px;
    height: 14px;
}

::-webkit-scrollbar-track {
    background: #2b2b2b; 
}

::-webkit-scrollbar-thumb {
    background: #3c3f41; 
    border: 3px solid #2b2b2b;
    border-radius: 7px;
}

::-webkit-scrollbar-thumb:hover {
    background: #4c5052; 
}

/* Layout Containers */
.container {
    max-width: 1000px;
    margin: 20px auto;
    padding: 0;
    display: flex;
    flex-direction: column;
    flex-grow: 1;
}

/* Header / Status Bar style */
h1 {
    font-size: 1.2rem;
    color: var(--text-color);
    margin: 0;
    padding: 10px 20px;
    background-color: #3c3f41;
    border-bottom: 1px solid var(--border-color);
    font-weight: normal;
}

/* Main IDE Window */
.ide-window {
    background-color: var(--bg-color);
    border: 1px solid #555; /* Window border */
    box-shadow: 0 10px 30px rgba(0,0,0,0.5);
    border-radius: 4px;
    display: flex;
    flex-direction: column;
    height: 80vh; /* Fixed height for the window */
    overflow: hidden;
    position: relative;
}

.ide-header {
    background-color: #3c3f41;
    padding: 5px 10px;
    display: flex;
    gap: 5px;
    border-bottom: 1px solid #323232;
}

.tab {
    background-color: var(--bg-color);
    padding: 5px 15px;
    border-radius: 4px 4px 0 0;
    font-size: 0.9rem;
    color: var(--text-color);
    border-top: 2px solid #4a88c7; /* Active tab line */
    display: flex;
    align-items: center;
    gap: 8px;
}

.tab-icon {
    width: 12px;
    height: 12px;
    background-color: #4a88c7; /* Java blue */
    border-radius: 50%;
    display: inline-block;
}

.ide-content {
    display: flex;
    flex-grow: 1;
    overflow: hidden;
    position: relative;
}

/* Gutter (Line Numbers) */
.gutter {
    background-color: #313335;
    color: var(--line-number-color);
    padding: 10px 10px;
    text-align: right;
    border-right: 1px solid #414141;
    user-select: none;
    font-size: 14px;
    line-height: 24px; /* Match code line-height */
    min-width: 30px;
}

/* Code Area */
#gameArea {
    flex-grow: 1;
    padding: 10px 0;
    overflow-y: auto;
    font-size: 14px;
    line-height: 24px;
    position: relative;
}

.code-line {
    padding-left: 20px;
    position: relative;
    white-space: pre;
    color: var(--text-color);
    transition: background-color 0.1s;
    min-height: 24px;
}

/* The line currently being typed */
.code-line.active {
    background-color: #323232;
    box-shadow: inset 2px 0 0 0 #4a88c7; /* Active line marker */
}

/* The reference code (ghost text) */
.code-ref {
    opacity: 0.7;
    pointer-events: none;
}

/* Syntax Highlighting Classes (Simple) */
.kwd { color: var(--keyword-color); font-weight: bold; } /* keyword */
.str { color: var(--string-color); } /* string */
.num { color: var(--number-color); } /* number */
.com { color: var(--comment-color); } /* comment */
.typ { color: var(--class-color); } /* type/class */
.mtd { color: var(--method-color); } /* method */

/* Input Field Styling */
.input-line-container {
    margin-top: 5px;
    margin-bottom: 10px;
    padding-left: 20px;
    display: none; /* Hidden by default */
}

.code-line.active .input-line-container {
    display: block;
}

.code-input {
    background-color: #1e1f22;
    border: 1px solid #555;
    color: #fff;
    font-family: var(--font-main);
    font-size: 14px;
    padding: 2px 5px;
    width: 90%;
    outline: none;
    box-shadow: inset 0 0 5px rgba(0,0,0,0.5);
    border-radius: 2px;
}

.code-input:focus {
    border-color: #4a88c7;
}

.code-input.error {
    border-color: var(--error-color);
    background-color: rgba(188, 63, 60, 0.1);
}

/* Completed lines */
.code-line.completed {
    opacity: 0.5;
}
.code-line.completed .code-ref {
    color: var(--success-color);
}

/* Progress Bar */
.status-bar {
    background-color: #3c3f41;
    padding: 5px 10px;
    border-top: 1px solid #323232;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 0.8rem;
    color: #bbb;
}

progress {
    -webkit-appearance: none;
    height: 10px;
    width: 150px;
}

progress::-webkit-progress-bar {
    background-color: #2b2b2b;
    border-radius: 5px;
}

progress::-webkit-progress-value {
    background-color: #4a88c7;
    border-radius: 5px;
}

/* Buttons */
.btn {
    background-color: #4a88c7; /* Blue button */
    border: none;
    color: white;
    padding: 8px 16px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 14px;
    margin: 4px 2px;
    cursor: pointer;
    border-radius: 4px;
    font-family: var(--font-main);
}

.btn:hover {
    background-color: #3a78b7;
}

.btn:disabled {
    background-color: #555;
    cursor: not-allowed;
}

/* Start Overlay */
#startOverlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.7);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 10;
}

.room-card {
    background-color: #3c3f41;
    border: 1px solid #555;
    color: #a9b7c6;
    margin-bottom: 10px;
    padding: 10px;
    border-radius: 4px;
    display: flex;
    justify-content: space-between;
}

input[type="text"] {
    background-color: #45494a;
    border: 1px solid #646464;
    color: #a9b7c6;
    padding: 5px;
}